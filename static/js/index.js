"use strict";if(void 0===$.cookie("_jsq_uuid")||null===$.cookie("_jsq_uuid")||""===$.cookie("_jsq_uuid")){var codeUuid=uuidv4((new Date).getTime());$.cookie("_jsq_uuid",codeUuid,{expires:1e6})}var indexTime=(new Date).getTime(),url=window.location.protocol+"//"+window.location.host;function getOS(){var e=navigator.userAgent;if(null==e||""===e)return"unknown";if(0<=(e=e.toLocaleLowerCase()).indexOf("win32")||0<=e.indexOf("wow32")||0<=e.indexOf("win64")||0<=e.indexOf("wow64")||0<=e.indexOf("windows"))return"windows";var i=-1<e.indexOf("android");return i?"android":-1<e.indexOf("iphone")||-1<e.indexOf("ipad")?"ios":/macintosh|mac os x/i.test(e)?"mac":(i=-1<e.indexOf("adr"))?"android":-1<String(navigator.platform).indexOf("linux")&&-1===e.indexOf("android")?"linux":"unknown"}$("img.lazy").lazyload({effect:"fadeIn"});var os=getOS();$.cookie("_jsq_os",os,{expires:1e6});var language="";if(void 0===$.cookie("translations")){language="en";var baseLang=navigator.language?navigator.language.substring(0,2).toLowerCase():"zh";language="zh"===baseLang?"zh":"en"}else language="cn"===$.cookie("translations")?"zh":"en";function getQueryVariable(e){for(var i=window.location.search.substring(1).split("&"),o=0;o<i.length;o++){var n=i[o].split("=");if(n[0]==e)return n[1]}return""}function changeURLArg(url,arg,arg_val){var pattern=arg+"=([^&]*)",replaceText=arg+"="+arg_val;if(url.match(pattern)){var tmp="/("+arg+"=)([^&]*)/gi";return tmp=url.replace(eval(tmp),replaceText),tmp}return url.match("[?]")?url+"&"+replaceText:url+"?"+replaceText}var qrCodeUrl=window.location.href,gclid=getQueryVariable("gclid");""!=gclid?$.cookie("_jsq_gclid",gclid,{expires:1e6}):null!=$.cookie("_jsq_gclid")&&""!=$.cookie("_jsq_gclid")&&(qrCodeUrl=changeURLArg(qrCodeUrl,"gclid",$.cookie("_jsq_gclid")));var channelCode=getQueryVariable("code");function layuiShow(){$(".layui-layer").show(),$(".layui-layer-shade").show(),$("#id_img_dif").hide(),$("#qrcode").show(),webReport("clickDownload",os)}function layuiHide(){$(".layui-layer").hide(),$(".layui-layer-shade").hide()}function onDownloadClick(){invitepush(os)}""!=channelCode?$.cookie("_jsq_code",channelCode,{expires:1e6}):null!=$.cookie("_jsq_code")&&""!=$.cookie("_jsq_code")&&(qrCodeUrl=changeURLArg(qrCodeUrl,"code",$.cookie("_jsq_code"))),codes("qrcode",qrCodeUrl),$(".layui-layer-shade").on("click",layuiHide),$(".mobileDownloadBtn").on("click",layuiShow),$(".downloadBtn").on("click",onDownloadClick),gtag("event","visitHomePage",{event_category:os});var localIp="";function getYourIP(){var e=window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection;e?function(){var i=new e({iceServers:[]});i.createDataChannel("",{reliable:!1}),i.onicecandidate=function(e){e.candidate&&o("a="+e.candidate.candidate)},i.createOffer(function(e){o(e.sdp),i.setLocalDescription(e)},function(e){console.warn("offer failed",e)});var n=Object.create(null);function t(e){if(!(e in n)){n[e]=!0;for(var i=Object.keys(n).filter(function(e){return n[e]}),o=0;o<i.length;o++)16<i[o].length&&(i.splice(o,1),o--);localIp=i[0]}}function o(e){e.split("\r\n").forEach(function(e,i,o){if(~e.indexOf("a=candidate")){var n=(a=e.split(" "))[4];"host"===a[7]&&t(n)}else if(~e.indexOf("c=")){var a;t(n=(a=e.split(" "))[2])}})}n["0.0.0.0"]=!1}():document.write("请使用主流浏览器：chrome,firefox,opera,safari")}function webReport(e,i){void 0===localIp&&(localIp=""),void 0===os&&(os=""),$.ajax({type:"POST",url:"/api/web/pb/webreport",dataType:"JSON",async:!0,data:{screenWidth:window.screen.width,screenHeight:window.screen.height,pixelRatio:window.devicePixelRatio,localIP:localIp,eventName:e,eventValue:i,timestamp:(new Date).getTime()},success:function(e){}})}function invitepush(e){var o=(new Date).getTime();if(void 0===localIp&&(localIp=""),void 0===os&&(os=""),webReport("clickDownload",e),$(".layui-layer").show(),$(".layui-layer-shade").show(),"windows"===e||"mac"===e){$("#id_img_dif").show(),$("#qrcode").hide(),gtag("event","clickDownload",{event_category:"android"});var i="/api/web/pb/getapp?screenWidth="+window.screen.width+"&screenHeight="+window.screen.height+"&pixelRatio="+window.devicePixelRatio+"&localIP="+localIp+"&timestamp="+(new Date).getTime(),n=document.createElement("iframe");n.src=i,n.style.display="none",document.body.appendChild(n),n.addEventListener("load",function(){document.body.removeChild(n)});var a=setInterval(function(){var e=n.contentDocument||n.contentWindow.document;if("complete"===e.readyState||"interactive"===e.readyState){var i=cTime((new Date).getTime(),o);return $(".layui-layer").hide(),$(".layui-layer-shade").hide(),gtag("event","timing_complete",{name:"gotDownloadUrl",value:i}),void clearInterval(a)}},500)}else $("#id_img_dif").hide(),$("#qrcode").show()}function cTime(e,i){return e-i}function codes(e,i){new QRCode(document.getElementById(e),{text:i,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}getYourIP(),webReport("visitHomePage",window.location.href),$(".dropdown .dropdown-menu").on("click","li",function(){0==$(this).index()?$.cookie("translations","cn"):1==$(this).index()&&$.cookie("translations","en"),window.location.reload()});